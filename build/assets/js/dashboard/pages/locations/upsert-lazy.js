"use strict";(globalThis.webpackChunkstec=globalThis.webpackChunkstec||[]).push([[7861],{93699:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var r=a(58168),l=a(73772),n=a(26878),s=a(52779),c=a(57798);const __=l.__,i=e=>{const[t,a]=(0,n.useState)(!1),l=e.onClick,i={...e};return delete i.onClick,React.createElement(React.Fragment,null,React.createElement(c.default,{isOpen:t,onClose:e=>{e.stopPropagation(),a(!1)},headerIcon:"fa-solid fa-triangle-exclamation",title:e.promptText||__("Are you sure you want to delete this item?","stachethemes_event_calendar_lite"),buttons:[React.createElement(s.default,{key:"proceed",className:"red",label:e.yesLabel||__("Delete","stachethemes_event_calendar_lite"),onClick:()=>{a(!1),l()}}),React.createElement(s.default,{key:"cancel",className:"yellow",label:e.noLabel||__("Cancel","stachethemes_event_calendar_lite"),onClick:()=>{a(!1)}})]}),React.createElement(s.default,(0,r.default)({},i,{onClick:()=>{a(!0)}})))}},85262:(e,t,a)=>{a.r(t),a.d(t,{InputCheckbox:()=>o,UncontrolledInputCheckbox:()=>i,default:()=>d});var r=a(8403),l=a(26878),n=a(75761),s=a(78565),c=a(10382);const i=e=>{const[t,a]=(0,l.useState)(void 0!==e.defaultValue&&e.defaultValue),[i,o]=(0,l.useState)(!1),[d,u]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{(i||e.wasSubmitted)&&u(!0===e.required&&!1===t)}),[t,e.required,e.wasSubmitted,i]),React.createElement(r.StecDiv,{className:"stec-checkbox-wrapper",title:e.hint},React.createElement("label",null,React.createElement(r.StecInputCheckBox,{checked:t,onChange:t=>{o(!0),a(t.target.checked),e.onChange&&e.onChange(t.target.checked)}}),React.createElement(s.default,{text:e.title})),React.createElement(c.default,{floating:!0,text:e.errorMessage,display:d}),React.createElement(n.default,{text:e.description}),e.name&&React.createElement("input",{type:"hidden",required:e.required,name:e.name,value:t}))},o=e=>{const[t,a]=(0,l.useState)(!1),[i,o]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{(t||e.wasSubmitted)&&o(!0===e.required&&!1===e.value)}),[e.value,e.required,t,e.wasSubmitted]),React.createElement(r.StecDiv,{className:"stec-checkbox-wrapper",title:e.hint},React.createElement("label",null,React.createElement(r.StecInputCheckBox,{checked:e.value,onChange:t=>{a(!0),e.onChange&&e.onChange(t.target.checked)}}),React.createElement(s.default,{text:e.title})),React.createElement(c.default,{floating:!0,text:e.errorMessage,display:i}),React.createElement(n.default,{text:e.description}),e.name&&React.createElement("input",{type:"hidden",required:e.required,name:e.name,value:e.value}))},d=o},22008:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var r=a(8403);const l=({title:e,type:t,color:a,style:l,className:n})=>{const s=["stec-loader"];return"small"===t?s.push("stec-loader-small"):"small-wide"===t&&s.push("stec-loader-small-wide"),n&&s.push(n),React.createElement(r.StecDiv,{className:s.join(" "),style:l},"calendar-sprite"!==t&&React.createElement("i",{className:"fa-solid fa-cog",style:{color:a}}),"calendar-sprite"===t&&React.createElement(r.StecSpan,{className:"stec-loader-calendar-sprite"}),e&&React.createElement(r.StecSpan,{style:{color:a}},e))}},41426:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var r=a(33500),l=a(8403),n=a(26878);const s=function(e){const t=(0,n.useRef)(),a=(0,n.useRef)(!0);return(0,n.useEffect)((()=>{const t=document.querySelectorAll(".stec-modal-overlay");return e.isOpen?document.body.classList.add("stec-modal-is-open"):t.length<=0&&document.body.classList.remove("stec-modal-is-open"),()=>{document.querySelectorAll(".stec-modal-overlay").length<=0&&document.body.classList.remove("stec-modal-is-open")}}),[e.isOpen]),(0,n.useEffect)((()=>{const t=t=>{27===t.keyCode&&e.onClose()};return document.addEventListener("keydown",t,!1),()=>{document.removeEventListener("keydown",t,!1)}}),[e]),!0!==e.isOpen?null:React.createElement(r.default,null,React.createElement(l.StecDiv,{ref:t,className:"stec-modal-overlay",style:e.overlayColor?{backgroundColor:e.overlayColor}:{},onMouseDown:e=>{"stec-modal-overlay"===e.target.className?a.current=!0:a.current=!1},onMouseUp:t=>{"stec-modal-overlay"===t.target.className&&a.current&&(t.stopPropagation(),e.onClose())}},React.createElement(l.StecDiv,{className:"stec-modal-close",onClick:t=>{t.stopPropagation(),e.onClose()}},React.createElement("i",{className:"fa-solid fa-times"})),e.plain&&e.children,!e.plain&&React.createElement(l.StecDiv,{className:"stec-modal",style:e.maxWidth?{maxWidth:e.maxWidth}:{}},React.createElement(l.StecDiv,{className:"stec-modal-content"},e.children),React.createElement(l.StecDiv,{className:"stec-modal-after-content",onClick:t=>{t.stopPropagation(),e.onClose()}}))))}},81148:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var r=a(52779),l=a(75761),n=a(78565),s=a(13839),c=a(32488),i=a(57798),o=a(22008),d=a(22819),u=a(91927),h=a(8403),m=a(73772),p=a(26960),g=a(26878),f=a(60799);const __=m.__,y=({userData:e,setEditMode:t,setAuthorId:a})=>{const{id:l,user_email:n,display_name:s}=e||{};return e?React.createElement(React.Fragment,null,React.createElement(c.default,{readOnly:!0,title:__("User id","stachethemes_event_calendar_lite"),value:l}),React.createElement(d.default,null),React.createElement(c.default,{readOnly:!0,title:__("User display name","stachethemes_event_calendar_lite"),value:s}),React.createElement(d.default,null),React.createElement(c.default,{readOnly:!0,title:__("User e-mail","stachethemes_event_calendar_lite"),value:n}),React.createElement(d.default,null),React.createElement(h.StecDiv,{className:"stec-light-modal-content-buttons"},React.createElement(r.default,{style:{width:"100%"},key:"update-author",label:__("Change author","stachethemes_event_calendar_lite"),className:"green",onClick:()=>{a(parseInt(l,10)),t(!1),(0,f.toast)(__("Author updated","stachethemes_event_calendar_lite"))}}),React.createElement(r.default,{style:{width:"100%"},key:"cancel",label:__("Cancel","stachethemes_event_calendar_lite"),className:"red",onClick:()=>{t(!1)}}))):null},E=({ready:e,error:t,searchValue:a,data:l,setAuthorId:s,setEditMode:c})=>{const i=React.createElement(React.Fragment,null,!e&&!t&&React.createElement(React.Fragment,null,React.createElement(d.default,null),React.createElement(o.default,{type:"small",title:__("Searching...","stachethemes_event_calendar_lite")})),React.createElement(d.default,null),React.createElement(h.StecDiv,{className:"stec-light-modal-content-buttons"},React.createElement(r.default,{disabled:!0,style:{width:"100%"},key:"update-author",label:__("Change author","stachethemes_event_calendar_lite"),className:"gray"}),React.createElement(r.default,{style:{width:"100%"},key:"cancel",label:__("Cancel","stachethemes_event_calendar_lite"),className:"red",onClick:()=>{c(!1)}})));if(!e)return i;if(t){if(""===a)return i;const e="string"==typeof t?t:__("Sorry, something went wrong","stachethemes_event_calendar_lite");return React.createElement(React.Fragment,null,React.createElement(d.default,null),React.createElement(n.default,{text:e}),i)}if(!l||!l.length)return React.createElement(React.Fragment,null,React.createElement(d.default,null),React.createElement(n.default,{text:__("User not found","stachethemes_event_calendar_lite")}),i);const u=l[0];return React.createElement(React.Fragment,null,React.createElement(d.default,null),React.createElement(y,{userData:u,setAuthorId:s,setEditMode:c}))},v=({setEditMode:e,authorId:t,setAuthorId:a})=>{const[r,l]=(0,g.useState)(t),{data:n,ready:s,error:o}=(0,u.useUserData)({s:r});return React.createElement(i.default,{className:"stec-dashboard-light-modal",noHeader:!0,isOpen:!0,onClose:t=>{t.stopPropagation(),e(!1)},headerIcon:"fa-solid fa-user",title:__("Change author","stachethemes_event_calendar_lite")},React.createElement(c.UncontrolledDelayedInputText,{minLength:0,title:__("Search user","stachethemes_event_calendar_lite"),description:__("Search user by id, name or email","stachethemes_event_calendar_lite"),defaultValue:r,onChange:e=>{l(e)}}),React.createElement(E,{ready:s,error:o,searchValue:r,data:n,setEditMode:e,setAuthorId:a}))},R=({authorId:e,setAuthorId:t})=>{const[a,r]=(0,g.useState)(!1);return React.createElement(React.Fragment,null,React.createElement("i",{title:__("Change author","stachethemes_event_calendar_lite"),className:"stec-dashboard-change-author-side-button fa-solid fa-user-pen",onClick:()=>{r((e=>!e))}}),a&&React.createElement(v,{setEditMode:r,authorId:e,setAuthorId:t}))};function b({postData:e}){const t=!0===STEC_VARIABLES.current_user.capability.edit_users,[a,r]=(0,g.useState)(e.current.meta.author);return(0,g.useEffect)((()=>{(0,p.isNumber)(a)&&a!==e.current.meta.author&&(e.current.meta.author=parseInt(a,10))}),[a,e]),(0,p.isNumber)(a)?React.createElement(h.StecDiv,{className:"stec-dashboard-change-author-control"},React.createElement(n.default,{text:__("Author user id","stachethemes_event_calendar_lite")}),React.createElement(s.default,{style:{justifyContent:"space-between"}},React.createElement(c.default,{readOnly:!0,value:a}),t&&React.createElement(R,{authorId:a,setAuthorId:r})),React.createElement(l.default,{text:__("Current author user id","stachethemes_event_calendar_lite")})):null}},54869:(e,t,a)=>{function r(e,t,a,r){return new(a||(a=Promise))((function(l,n){function s(e){try{i(r.next(e))}catch(e){n(e)}}function c(e){try{i(r.throw(e))}catch(e){n(e)}}function i(e){var t;e.done?l(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,c)}i((r=r.apply(e,t||[])).next())}))}function l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}a.r(t),a.d(t,{DEFAULT_ID:()=>s,Loader:()=>i,LoaderStatus:()=>c}),"function"==typeof SuppressedError&&SuppressedError;var n=l((function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var r,l,n;if(Array.isArray(t)){if((r=t.length)!=a.length)return!1;for(l=r;0!=l--;)if(!e(t[l],a[l]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((r=(n=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(l=r;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,n[l]))return!1;for(l=r;0!=l--;){var s=n[l];if(!e(t[s],a[s]))return!1}return!0}return t!=t&&a!=a}));const s="__googleMapsScriptId";var c;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(c||(c={}));class i{constructor({apiKey:e,authReferrerPolicy:t,channel:a,client:r,id:l=s,language:c,libraries:o=[],mapIds:d,nonce:u,region:h,retries:m=3,url:p="https://maps.googleapis.com/maps/api/js",version:g}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=a,this.client=r,this.id=l||s,this.language=c,this.libraries=o,this.mapIds=d,this.nonce=u,this.region=h,this.retries=m,this.url=p,this.version=g,i.instance){if(!n(this.options,i.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(i.instance.options)}`);return i.instance}i.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?c.FAILURE:this.done?c.SUCCESS:this.loading?c.LOADING:c.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((a=>{a?t(a.error):e(window.google)}))}))}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id))return void this.callback();const a={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(a).forEach((e=>!a[e]&&delete a[e])),(null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.maps)||void 0===t?void 0:t.importLibrary)||(e=>{let t,a,l,n="The Google Maps JavaScript API",s="google",c="importLibrary",i="__ib__",o=document,d=window;d=d[s]||(d[s]={});const u=d.maps||(d.maps={}),h=new Set,m=new URLSearchParams,p=()=>t||(t=new Promise(((c,d)=>r(this,void 0,void 0,(function*(){var r;for(l in yield a=o.createElement("script"),a.id=this.id,m.set("libraries",[...h]+""),e)m.set(l.replace(/[A-Z]/g,(e=>"_"+e[0].toLowerCase())),e[l]);m.set("callback",s+".maps."+i),a.src=this.url+"?"+m,u[i]=c,a.onerror=()=>t=d(Error(n+" could not load.")),a.nonce=this.nonce||(null===(r=o.querySelector("script[nonce]"))||void 0===r?void 0:r.nonce)||"",o.head.append(a)})))));u[c]?console.warn(n+" only loads once. Ignoring:",e):u[c]=(e,...t)=>h.add(e)&&p().then((()=>u[c](e,...t)))})(a);const l=this.libraries.map((e=>this.importLibrary(e)));l.length||l.push(this.importLibrary("core")),Promise.all(l).then((()=>this.callback()),(e=>{const t=new ErrorEvent("error",{error:e});this.loadErrorCallback(t)}))}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const e=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout((()=>{this.deleteScript(),this.setScript()}),e)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading=!0,this.setScript()}}}}}]);