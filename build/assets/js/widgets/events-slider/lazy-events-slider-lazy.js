"use strict";(globalThis.webpackChunkstec=globalThis.webpackChunkstec||[]).push([[1265],{5986:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var s=a(6405),r=a(8403),n=a(58757),c=a(73772);const __=c.__,l=({event:e,size:t="",classes:a="",includeCategories:c=!0,style:l,context:i="view"})=>{const o=[],d="EventCancelled"===e.meta.event_status;switch(0===e.meta.approved&&o.push({label:__("Pending Approval","stachethemes_event_calendar_lite"),color:"#fdb813"}),!1===d&&(e.meta.featured&&o.push({label:[React.createElement("i",{key:"icon",className:"fas fa-star"}),__("Featured","stachethemes_event_calendar_lite")],color:"#ed1c16"}),!0===(0,s.eventHasHealthMeasures)(e)&&o.push({label:[React.createElement("i",{key:"icon",className:"fas fa-shield-virus"}),__("Health measures","stachethemes_event_calendar_lite")],color:"#0093d0"})),e.meta.event_status){case"EventPostponed":o.push({label:__("Postponed","stachethemes_event_calendar_lite"),color:"#eb9534"});break;case"EventRescheduled":o.push({label:__("Rescheduled","stachethemes_event_calendar_lite"),color:"#eb9534"});break;case"EventMovedOnline":o.push({label:[React.createElement("i",{key:"icon",className:"fas fa-wifi"}),__("Moved Online","stachethemes_event_calendar_lite")],color:"#32a852"});break;case"EventCancelled":o.push({label:__("Cancelled","stachethemes_event_calendar_lite"),color:"#f40009"})}!1===d&&!0===c&&Array.isArray(e.categories)&&e.categories.forEach((e=>{o.push({label:e?.thumbnail?.icon?[React.createElement("i",{key:"icon",className:e.thumbnail.icon}),e.title]:e.title,color:e.color})}));const u=["stec-tags-list"];return t&&u.push(t),a&&u.push(a),Array.isArray(o)&&0!==o.length?React.createElement(r.StecDiv,{className:u.join(" "),style:l},React.createElement(n.default,{event:e}),o.map(((e,t)=>{const a=(0,s.htmlEntities)(e.label);return React.createElement(r.StecSpan,{key:t,style:{backgroundColor:e.color}},a)}))):null}},58757:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var s=a(8403),r=a(73772),n=a(26878);const __=r.__,c=({event:e})=>{const[t,a]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const t=()=>{const t=moment(),a=moment.tz(e.meta.start_date,e.meta.timezone),s=moment.tz(e.meta.end_date,e.meta.timezone);return t.isBetween(a,s)};let s;return e?.location?.type&&"virtual"===e.location.type&&!["EventCancelled","EventPostponed"].includes(e.meta.event_status)&&(a(t()),s=setInterval((()=>{a(t())}),1e3)),()=>{clearInterval(s)}}),[e]),t?React.createElement(s.StecDiv,{className:"stec-tag-live"},__("Live","stachethemes_event_calendar_lite"),React.createElement("i",{className:"fas fa-circle"})):null}},38048:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var s=a(8403);const r=({pages:e,currentPage:t,setCurrentPage:a})=>e<=1?null:React.createElement(s.StecDiv,{className:"stec-widget-events-slider-bullets-wide"},Array(e).fill().map(((e,r)=>{const n=["stec-widget-events-slider-bullet-wide"];return r===t&&n.push("active"),React.createElement(s.StecDiv,{key:r,className:n.join(" "),onClick:()=>{a(r)}},React.createElement(s.StecDiv,{className:"stec-widget-events-slider-bullet-wide-visual"}))}))),n=({pages:e,currentPage:t,setCurrentPage:a})=>{if(e<=1)return null;return React.createElement(React.Fragment,null,React.createElement(s.StecDiv,{className:"stec-widget-events-slider-arrow-prev "+(t<=0?"hide":""),onClick:()=>{0!==t&&a(t-1)}},React.createElement("i",{className:"fa-solid fa-chevron-left"})),React.createElement(s.StecDiv,{className:"stec-widget-events-slider-arrow-next "+(t>=e-1?"hide":""),onClick:()=>{t!==e-1&&a(t+1)}},React.createElement("i",{className:"fa-solid fa-chevron-right"})))},c=({pages:e,currentPage:t,setCurrentPage:a,widgetProps:s})=>React.createElement(React.Fragment,null,s.slider_bullets&&React.createElement(r,{pages:e,currentPage:t,setCurrentPage:a}),s.slider_arrows&&React.createElement(n,{pages:e,currentPage:t,setCurrentPage:a}))},34107:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var s=a(8403),r=a(98818);const n=function({event:e,widgetProps:t}){return React.createElement(s.StecDiv,{className:"stec-widget-events-slider-event-slide"},React.createElement(r.default,{event:e,widgetProps:t}))}},98818:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var s=a(5986),r=a(6405),n=a(8403);const c=function({event:e,widgetProps:t}){const a=moment.tz(e.meta.start_date,e.meta.timezone);(STEC_VARIABLES?.use_user_tz||!1)&&a.local();const c=a.year(),l=a.date(),i=a.month(),o=(0,r.getMonthLabel)(i,"short"),d=(0,r.getDayLabels)("long")[a.day()],u=(0,r.getEventSortedImages)(e),m="EventCancelled"===e.meta.event_status?React.createElement("del",null,e.title):e.title;return React.createElement(n.StecDiv,{className:["stec-slide-boxgrid"].join(" ")},React.createElement(n.StecDiv,{className:"stec-slide-boxgrid-background-image",style:u.length>0?{backgroundColor:e.color,backgroundImage:`url(${u[0].sizes.full})`}:{backgroundColor:e.color}}),React.createElement(n.StecDiv,{className:"stec-slide-boxgrid-container"},React.createElement(n.StecDiv,{className:"stec-slide-boxgrid-event-top"},React.createElement(n.StecDiv,{className:"stec-slide-boxgrid-event-icon"},e.meta.thumbnail.icon?React.createElement("i",{className:e.meta.thumbnail.icon}):""),React.createElement(n.StecDiv,{className:"stec-slide-boxgrid-event-date"},React.createElement(n.StecSpan,{className:"stec-slide-boxgrid-event-date-day"},l),React.createElement(n.StecSpan,{className:"stec-slide-boxgrid-event-date-month-and-year"},React.createElement(n.StecSpan,{className:"stec-slide-boxgrid-event-date-year"},c),React.createElement("br",null),React.createElement(n.StecSpan,{className:"stec-slide-boxgrid-event-date-month"},o)),React.createElement("br",null),React.createElement(n.StecSpan,{className:"stec-slide-boxgrid-event-date-daylabel"},d))),React.createElement(n.StecDiv,{className:"stec-slide-boxgrid-event-content"},t.display_tags&&React.createElement(s.default,{event:e,includeCategories:t.display_categories||!1}),React.createElement(n.StecDiv,{className:"stec-slide-boxgrid-event-title"},m),t.display_description&&e.short_description&&React.createElement(n.StecDiv,{className:"stec-slide-boxgrid-event-description",dangerouslySetInnerHTML:{__html:e.short_description}})),React.createElement("a",{target:t.open_events_in||"_blank",href:(()=>{const{prefer_external_link:a}=t;return a&&e.meta?.external_link?.url?e.meta.external_link.url:(0,r.getEventPermalink)(e)})(),className:"stec-slide-boxgrid-link"})))}},8838:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var s=a(6405),r=a(8403),n=a(26878),c=a(45719),l=a(23164);function i(e){const{items:t,ready:a,error:i}=(0,l.useEventsPrefetch)(e),o=(0,n.useRef)(null),d=["stec-widget-events-slider-wrapper"];return(0,n.useEffect)((()=>{if(a){const t=document.getElementById(e.id);t&&(t.style.height="",t.style.backgroundColor="")}}),[a,e.id]),!a||i||!Array.isArray(t)||t.length<=0?null:((0,s.isMobile)()&&d.push("stec-widget-events-slider-wrapper-is-mobile"),React.createElement(r.StecDiv,{className:d.join(" "),ref:o},React.createElement(c.default,{wrapperRef:o,events:t,widgetProps:e})))}function o(e){const{items:t,ready:a,error:i}=(0,l.useEvents)(e),o=(0,n.useRef)(null),d=["stec-widget-events-slider-wrapper"];return(0,n.useEffect)((()=>{if(a){const t=document.getElementById(e.id);t&&(t.style.height="",t.style.backgroundColor="")}}),[a,e.id]),!a||i||!Array.isArray(t)||t.length<=0?null:((0,s.isMobile)()&&d.push("stec-widget-events-slider-wrapper-is-mobile"),React.createElement(r.StecDiv,{className:d.join(" "),ref:o},React.createElement(c.default,{wrapperRef:o,events:t,widgetProps:e})))}const d=function(e){return e.events_prefetch?React.createElement(i,e):React.createElement(o,e)}},45719:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var s=a(8403),r=a(34107),n=a(6405),c=a(26878),l=a(26960),i=a(38048);const o=function({events:e,wrapperRef:t,widgetProps:a}){const[o,d]=(0,c.useState)(!1),u=(0,n.isMobile)(),m=a.columns||3,v=(0,c.useRef)(null),[g,h]=(0,c.useState)(0),[_,f]=(0,c.useState)(0),p=(0,c.useRef)(m),E=(0,l.isNumber)(a.gutter)?parseInt(a.gutter,10):0,[R,b]=(0,c.useState)(0);return(0,c.useEffect)((()=>{const a=t.current,s=a=>t.current.offsetWidth<320*a?s(a-1):(a>e.length&&(a=e.length),Math.max(1,a)),r=new ResizeObserver((t=>{if(t[0]&&t[0].contentRect){(t=>{p.current=s(m);const a=t,r=E*(p.current-1)/p.current,n=Math.ceil(a/p.current-r),c=v.current.querySelectorAll(".stec-widget-events-slider-event-slide");c.forEach(((e,t)=>{e.style.width=`${n}px`,t!==c.length-1&&(e.style.marginRight=`${E}px`)})),v.current.style.width=n*e.length+E*(e.length-1)+"px";const l=Math.ceil(e.length/p.current);l!==g?(h(l),f(0)):b((e=>e+1))})(t[0].contentRect.width),v.current.style.opacity=1}}));return a&&r.observe(a),()=>{a&&r.unobserve(a)}}),[m,e,g,E,t]),(0,c.useEffect)((()=>{const e=v.current.querySelector(".stec-widget-events-slider-event-slide").offsetWidth+E;let a=p.current*e*_;a>v.current.offsetWidth-t.current.offsetWidth&&(a=v.current.offsetWidth-t.current.offsetWidth),v.current.style.transform=`translateX(-${a}px)`}),[_,E,t,R]),(0,c.useEffect)((()=>{if(!n.isMobile||!v.current)return;let e=0;const t=t=>{e=t.touches[0]?.clientX||0},a=t=>{const a=(t.changedTouches[0]?.clientX||0)-e;a>50&&_>0?f((e=>e-1)):a<-50&&_<g-1&&f((e=>e+1))},s=v.current;return s.addEventListener("touchstart",t,{passive:!0}),s.addEventListener("touchend",a,{passive:!0}),()=>{s.removeEventListener("touchstart",t),s.removeEventListener("touchend",a)}}),[_,g,v]),(0,c.useEffect)((()=>{let e;if(a.auto_slide)return o?clearInterval(e):e=setInterval((()=>{f(_===g-1?0:_+1)}),1e3*a.auto_slide),()=>{clearInterval(e)}}),[_,g,a.auto_slide,o]),(0,c.useEffect)((()=>{t.current&&(t.current.addEventListener("mouseenter",(()=>{d(!0)})),t.current.addEventListener("mouseleave",(()=>{d(!1)})))}),[t]),React.createElement(React.Fragment,null,React.createElement(s.StecDiv,{className:"stec-widget-events-slider-container-wrapper"},React.createElement(s.StecDiv,{className:"stec-widget-events-slider-container",ref:v,onMouseEnter:()=>{t.current&&!u&&t.current.classList.add("stec-widget-events-slider-container-hover")},onMouseLeave:e=>{t.current&&!u&&t.current.classList.remove("stec-widget-events-slider-container-hover")}},e.map((e=>React.createElement(r.default,{key:`${e.id}-${e.meta.start_date}`,event:e,widgetProps:a}))))),React.createElement(i.default,{pages:g,currentPage:_,setCurrentPage:f,widgetProps:a}))}},23164:(e,t,a)=>{a.r(t),a.d(t,{useEvents:()=>i,useEventsPrefetch:()=>l});var s=a(6405),r=a(13328),n=a(51527),c=a(26878);const l=e=>{const[t,a]=(0,c.useState)(!1),[r,l]=(0,c.useState)([]),[i,o]=(0,c.useState)(null),d={...e};return(0,c.useEffect)((()=>{if(!t&&!i){if("object"!=typeof window.stecPrefetchedEvents||!window.stecPrefetchedEvents[d.prefetched_events_hash])return o(!0),a(!0),void l([]);(async()=>{const e="custom"===d.min_date?d.min_date_custom:d.min_date,t="custom"===d.max_date?d.max_date_custom:d.max_date,r=await(0,n.getWorkerEventsBetween)({startRange:e,endRange:t,minDate:e,minMaxIntersect:d.minmax_intersect,limit:d.limit||6,order:d.order||"asc",filters:{},threadIndex:d.id,events:window.stecPrefetchedEvents[d.prefetched_events_hash]}),c=(0,s.sortEventsByFeatured)(r);l(c),a(!0)})()}}),[i,d.id,d.limit,d.max_date,d.max_date_custom,d.min_date,d.min_date_custom,d.minmax_intersect,d.order,d.prefetched_events_hash,t]),{items:r,ready:t,error:i}},i=e=>{const[t,a]=(0,c.useState)(!1),[l,i]=(0,c.useState)([]),[o,d]=(0,c.useState)(null),u={...e},m={stec_cal:"calendar",stec_cat:"category",stec_loc:"location",stec_org:"organizer",stec_gst:"guest"},v=Object.keys(m).filter((e=>u[e])).reduce(((e,t)=>(e[m[t]]=u[t],e)),{}),g={minDate:"custom"===u.min_date?u.min_date_custom:u.min_date,maxDate:"custom"===u.max_date?u.max_date_custom:u.max_date,minMaxIntersect:u.minmax_intersect,featured:u.featured_only?1:0,eventStatus:u.event_status,author:u.author,include:u.include,...v},{items:h,ready:_,error:f}=(0,r.usePostItemsAll)({post_type:"stec_event",perPage:u.per_page||100,context:"event",permissionType:"read_permission",...g});return(0,c.useEffect)((()=>{!f&&_&&(h.length?(async()=>{const e="custom"===u.min_date?u.min_date_custom:u.min_date,t="custom"===u.max_date?u.max_date_custom:u.max_date,r=await(0,n.getWorkerEventsBetween)({startRange:e,endRange:t,minMaxIntersect:u.minmax_intersect,minDate:e,limit:u.limit||6,order:u.order||"asc",filters:{},threadIndex:u.id,events:h}),c=(0,s.sortEventsByFeatured)(r);i(c),a(!0)})():a(!0)),f&&(d(!0),a(!0),i([]))}),[h,f,u.limit,u.max_date,u.max_date_custom,u.min_date,u.min_date_custom,_,u.id,u.order,u.minmax_intersect]),{items:l,ready:t,error:o}}},58168:(e,t,a)=>{function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},s.apply(null,arguments)}a.r(t),a.d(t,{default:()=>s})}}]);