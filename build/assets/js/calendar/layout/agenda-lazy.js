"use strict";(globalThis.webpackChunkstec=globalThis.webpackChunkstec||[]).push([[4225],{66915:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var n=a(8403);const l=e=>{const t=window.stecFilterAccordeonAnimationDisabled?{animationDuration:"0s",animationDelay:"0s"}:{animationDelay:`${e.animationDelay}s`};return React.createElement(n.StecDiv,{style:{perspective:"2000px"}},React.createElement(n.StecDiv,{style:t,className:e.classNameArray.join(" ")},e.children))},s=e=>{const t=e.children.slice(0,e.until||e.children.length),a=e.animateFrom||0;return React.createElement(React.Fragment,null,t.map(((t,n)=>{const s=["stec-accordeon"];a>n&&e.noAnim&&s.push("stec-accordeon-no-animation");const o=a?.17*Math.max(0,n-a):.17*n;return React.createElement(l,{key:n,animationDelay:o,classNameArray:s},t)})))}},60934:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var n=a(52779),l=a(8403),s=a(73772),o=a(26878),r=a(66915);const __=s.__,c=e=>{let t=[];const[a,s]=(0,o.useState)(0);if(t=e.children&&!1===Array.isArray(e.children)?[e.children]:e.children,t.length<=0)return"";const c=e.limit||t.length,m=a*c+c,i=Math.max(0,m-c),u=!!(Array.isArray(t)&&t.length>0),d=!(!(e.moreButtonEnabled??!0)||!u)&&t.slice(m,m+1).length>0;return React.createElement(React.Fragment,null,React.createElement(l.StecDiv,{className:"stec-preview-container"},React.createElement(r.default,{animateFrom:i,until:m},t)),d&&React.createElement(n.default,{onClick:()=>{s(a+1)},label:__("Show more","stachethemes_event_calendar_lite"),style:{marginTop:"10px",width:"100%"}}),!d&&e.onListEnd&&e.onListEnd())}},45088:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var n=a(81604),l=a(6405),s=a(26878),o=a(60934);const r=({events:e,moreButtonEnabled:t=!0,limit:a=!1,onListEnd:r=!1,sortByFeatured:c=!1})=>{const[m,i]=(0,s.useState)(!1);let u=[];return(c?(0,l.sortEventsByFeatured)(e):e).forEach((e=>{const t=`${e.id}-${e.meta.start_date}`;u.push(React.createElement(n.default,{key:t,event:e,active:m===t,onActiveToggle:()=>{i(m!==t&&t)}}))})),React.createElement(o.default,{moreButtonEnabled:t,limit:a,onListEnd:r},u)}},34451:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var n=a(52779),l=a(45088),s=a(21067),o=a(6405),r=a(8403),c=a(73772),m=a(26878);const __=c.__,_x=c._x,i=React.forwardRef(((e,t)=>{const a=(0,s.useSettingsAtt)("misc__min_allowed_year"),l=(0,s.useSettingsAtt)("misc__max_allowed_year"),r=(0,s.useShouldReverseOrder)(),{setValue:m}=(0,s.useAgendaSliderKey)(),{safeValue:i,setValue:u}=(0,s.useCalendarMoment)(),d=(0,s.useSettingsAtt)("layouts__agenda_list_more_button");if(!(0,s.useSettingsAtt)("layouts__agenda_list_next_button")||!d)return"";const f=moment(i).startOf("month");r?(f.subtract(1,"month"),f.year()<a&&f.year(l)):(f.add(1,"month"),f.year()>l&&f.year(a));const y=(0,o.getMonthLabel)(f.month()),v=f.year(),h=[React.createElement("i",{key:"icon",className:"fa-solid fa-calendar-alt"}),(0,c.sprintf)(_x("Go to %s, %s","month, year","stachethemes_event_calendar_lite"),y,v)];return React.createElement(n.default,{onClick:()=>{if(t.current){const e=i.format("YMD");t.current.scrollIntoView(),m(e)}u(f)},label:h,style:{marginTop:"10px",width:"100%"}})}));i.displayName="NextButton";const u=({day:e,month:t,year:a})=>{const n=(0,m.useRef)(!1),u=(0,s.useSettingsAtt)("layouts__agenda_list_limit"),d=(0,o.getMonthLabel)(t),f=`${e}-${t}-${a}`,{events:y,ready:v}=(0,s.useLayoutEventsCache)(f),h=(0,s.useShouldReverseOrder)(),E=(0,s.useSettingsAtt)("layouts__agenda_list_more_button"),g=h?(0,c.sprintf)(__("Events from %s and prior","stachethemes_event_calendar_lite"),[e,d,a].join(" ")):(0,c.sprintf)(__("Events since %s","stachethemes_event_calendar_lite"),[e,d,a].join(" "));return React.createElement(r.StecDiv,{className:"stec-layout-agenda-list",ref:n},v&&y.length<=0&&React.createElement(React.Fragment,null,React.createElement(r.StecDiv,{className:"stec-no-events-found-text"},__("No events found","stachethemes_event_calendar_lite")),React.createElement(i,{ref:n})),y.length>0&&React.createElement(React.Fragment,null,React.createElement(r.StecSpan,{className:"stec-layout-agenda-list-title"},g),React.createElement(l.default,{moreButtonEnabled:E,limit:u,events:y,onListEnd:()=>React.createElement(i,{ref:n})})))}},52802:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n=a(21067),l=a(6405),s=a(8403),o=a(26878),r=a(62785),c=a(37585);const m=()=>{const e=(0,n.useSettingsAtt)("id"),{safeValue:t,setValue:a}=(0,n.useCalendarMoment)(),{minAllowedMoment:m,maxAllowedMoment:i}=(0,n.useMinMaxCalendarMoments)(),u=(0,o.useRef)(document.body.style.overflow),[d,f]=(0,o.useReducer)(((e,t)=>{switch(t.type){case"setMomentA":{let a=t.value;return{...e,momentA:a}}case"setMomentB":{let a=t.value;return{...e,momentB:a}}case"setActiveCell":return{...e,activeCell:t.value};default:return e}}),{momentA:!1,momentB:!1,activeCell:!1}),[y,v]=(0,o.useState)([]),[h,E]=(0,o.useState)([]),g=(0,o.useRef)(!1),p=(0,o.useRef)(!1),R=(0,o.useRef)(!1),A=(0,n.useIsDragging)(),C=e=>{d.activeCell&&d.activeCell.moment.isSame(e,"day")?f({type:"setActiveCell",value:!1}):f({type:"setActiveCell",value:{moment:e}})};(0,o.useEffect)((()=>{const e=p.current,a=R.current,n=[e,a];let s,o,r=moment.utc(t).startOf("month"),c=moment.utc(r).add(1,"month");c.isAfter(i,"month")&&(c=moment.utc(m));let d=!1,y=0,v=0,h=0,E=0,A=!1,C=!1;function _(){d=!0}function S(e){d&&((0,l.isMobile)()?document.body.style.overflow="hidden":e.preventDefault(),s&&(clearTimeout(s),s=null,n.forEach((e=>{const t=M(e);e.style.transform="",e.style.transition="",e.style.left=t+"px"}))),h="number"==typeof e.clientX?e.clientX:e.touches[0].clientX,y=h,v=y,A=(new Date).getTime(),o&&(window.cancelAnimationFrame(o),o=null),o=window.requestAnimationFrame(L))}function b(e){d&&((0,l.isMobile)()?document.body.style.overflow=u.current:e.preventDefault(),d=!1,C=(new Date).getTime(),v=e.clientX||v,(()=>{const e=y>v?-1:1,t=C-A,a=Math.abs(y-v)/t/t*1e4,l=e*Math.min(a,500);n.forEach((e=>{e.style.transform=`translateX(${l}px)`,e.style.transition="transform 700ms cubic-bezier(0.16, 1, 0.3, 1)"})),s=setTimeout((()=>{n.forEach((e=>{e.style.transform="",e.style.transition="",e.style.left=`${e.offsetLeft+l}px`})),s=null}),700)})())}function D(t){if(!0===d){E=h-("number"==typeof t.clientX?t.clientX:t.touches[0].clientX),h="number"==typeof t.clientX?t.clientX:t.touches[0].clientX;let n=e.offsetLeft-E,l=a.offsetLeft-E;e.style.left=n+"px",a.style.left=l+"px",v="number"==typeof t.clientX?t.clientX:t.touches[0].clientX}}const M=e=>{const t=g.current.getBoundingClientRect();return e.getBoundingClientRect().x-t.x},L=()=>{if(!g.current||!e||!a)return;const t=g.current.offsetWidth,n=e.offsetWidth,l=a.offsetWidth,u=e.offsetLeft,y=a.offsetLeft,v=M(e),h=M(a);v>0&&h>0&&h>t?(c=moment.utc(r).subtract(1,"month"),c.isBefore(m,"year")&&(c=moment.utc(i).startOf("month")),w(R,c),f({type:"setMomentB",value:c}),a.style.left=u-a.offsetWidth+"px"):h>0&&v>0&&v>t?(r=moment.utc(c).subtract(1,"month"),r.isBefore(m,"year")&&(r=moment.utc(i).startOf("month")),w(p,r),f({type:"setMomentA",value:r}),e.style.left=y-e.offsetWidth+"px"):v<0&&h<0&&v+n<t?(r=moment.utc(c).add(1,"month"),r.isAfter(i,"year")&&(r=moment.utc(m).startOf("month")),w(p,r),f({type:"setMomentA",value:r}),e.style.left=y+a.offsetWidth+"px"):v<0&&h<0&&h+l<t&&(c=moment.utc(r).add(1,"month"),c.isAfter(i,"year")&&(c=moment.utc(m).startOf("month")),w(R,c),f({type:"setMomentB",value:c}),a.style.left=u+e.offsetWidth+"px"),(s||d)&&(o=window.requestAnimationFrame(L))},w=(e,moment)=>{e.current.style.width=90*(moment.daysInMonth()+1)+"px"};return(()=>{if((0,l.isMobile)()){const t={passive:!0};e.addEventListener("touchstart",_,t),a.addEventListener("touchstart",_,t),document.addEventListener("touchstart",S,t),document.addEventListener("touchend",b,t),document.addEventListener("touchmove",D,t)}else e.addEventListener("mousedown",_),a.addEventListener("mousedown",_),document.addEventListener("mousedown",S),document.addEventListener("mouseup",b),document.addEventListener("mousemove",D)})(),w(p,r),w(R,c),f({type:"setMomentA",value:r}),f({type:"setMomentB",value:c}),a.style.left=e.offsetWidth+"px",()=>{(()=>{if((0,l.isMobile)()){const t={passive:!0};e.removeEventListener("touchstart",_,t),a.removeEventListener("touchstart",_,t),document.removeEventListener("touchstart",S,t),document.removeEventListener("touchend",b,t),document.removeEventListener("touchmove",D,t)}else e.removeEventListener("mousedown",_),a.removeEventListener("mousedown",_),document.removeEventListener("mousedown",S),document.removeEventListener("mouseup",b),document.removeEventListener("mousemove",D);s&&(clearTimeout(s),s=null),o&&(window.cancelAnimationFrame(o),o=null)})()}}),[]),(0,o.useEffect)((()=>{const e=moment(t);if(e.date()<=3)return;const a=g.current.offsetWidth,n=90*e.date()+45,l=Math.min(0,a/2-n);p.current.style.left=`${l}px`,R.current.style.left=`${l+p.current.offsetWidth}px`}),[]);const _=d.momentA?d.momentA.format("YYYY-MM-DD"):"",S=d.momentB?d.momentB.format("YYYY-MM-DD"):"";return React.createElement(React.Fragment,null,React.createElement(s.StecDiv,{className:"stec-layout-agenda-slider"},React.createElement(s.StecDiv,{ref:g},React.createElement(r.default,{activeCell:d.activeCell,workerThread:`AgendaSliderContentA_${e}`,ref:p,momentDate:_,onCellClick:e=>{const n=moment(e);if(n.month()!==t.month()){const e=moment(n).startOf("month");a(e)}!1===A.current&&C(n)},onEventsReady:e=>{v(e)}}),React.createElement(r.default,{activeCell:d.activeCell,workerThread:`AgendaSliderContentB_${e}`,ref:R,momentDate:S,onCellClick:e=>{const n=moment(e);if(n.month()!==t.month()){const e=moment(n).startOf("month");a(e)}!1===A.current&&C(n)},onEventsReady:e=>{E(e)}}))),React.createElement(c.default,{key:d.activeCell?`agenda-slider-events-preview-${d.activeCell.moment.format("YMD")}`:"",eventsA:y,eventsB:h,activeMoment:!!d?.activeCell?.moment&&d.activeCell.moment}))}},45138:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n=a(8403),l=a(6405),s=a(21067);const o=e=>{const t=(0,s.useSettingsAtt)("calendar__thumbnail_source"),a=["stec-layout-agenda-slider-cell"],o=[];if(e.highlight&&a.push("stec-layout-agenda-slider-cell-highlight"),!e.loading&&Array.isArray(e.events)&&e.events.length>0)for(let a=0;a<Math.min(e.events.length,3);a++){const s=e.events[a];o.push(React.createElement(n.StecSpan,{key:a,className:"stec-layout-agenda-slider-cell-event",style:{backgroundColor:(0,l.getCellColor)(s,t)}}))}return e?.events?.length-3>0&&o.push(React.createElement(n.StecSpan,{key:3,className:"stec-layout-agenda-slider-cell-event",style:{}},React.createElement(n.StecSpan,{className:"stec-layout-agenda-slider-cell-event-more"},"+",e.events.length-3))),e.isActive&&a.push("stec-layout-agenda-slider-cell-active"),e.isToday&&a.push("stec-layout-agenda-slider-cell-today"),React.createElement(n.StecDiv,{className:a.join(" "),onClick:()=>{e.onCellClick&&e.onCellClick(e.momentDate,e.events)}},React.createElement(n.StecSpan,{className:"stec-layout-agenda-slider-cell-daylabel"},e.dayLabel),React.createElement(n.StecSpan,{className:"stec-layout-agenda-slider-cell-day"},e.day),Array.isArray(e.events)&&e.events.length>0&&React.createElement(n.StecSpan,{className:"stec-layout-agenda-slider-cell-events"},o))}},62785:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var n=a(6405),l=a(21067),s=a(26878),o=a(45138),r=a(8403);const c=e=>{const[t,a]=(0,s.useState)(!1),r="YYYY-MM-DD HH:mm:ss",c=moment(e.momentDate).startOf("month").utc().format(r),m=moment(e.momentDate).endOf("month").utc().format(r),[i,u]=(0,l.useCustomLayoutEvents)({start:c,end:m},{sortEventsInYMDkeys:!0},e.workerThread);return(0,s.useEffect)((()=>{if(e.momentDate){const t=(()=>{const t=[],a=(0,n.getDayLabels)("short"),l=moment(e.momentDate),s=l.daysInMonth(),r=moment().format("YMD");for(let c=1;c<=s;c++){const s=a[l.day()],c=l.format("D"),m=l.format("YYYY-MM-DD"),d=i[m]||!1,f=r===l.format("YMD");1===l.date()&&t.push(React.createElement(o.default,{key:l.format("YM"),day:(0,n.getMonthLabel)(l.month(),"short"),dayLabel:l.format("YYYY"),highlight:!0})),u?t.push(React.createElement(o.default,{key:m,isActive:e.activeCell&&e.activeCell.moment.isSame(l,"day"),day:c,isToday:f,dayLabel:s,events:d,momentDate:m,onCellClick:e.onCellClick})):t.push(React.createElement(o.default,{key:m,isActive:e.activeCell&&e.activeCell.moment.isSame(l,"day"),day:c,isToday:f,dayLabel:s,loading:!0,momentDate:m,onCellClick:e.onCellClick})),l.add(1,"day")}return t})();a(t)}}),[e.activeCell,u,e.onCellClick,i,e.momentDate]),(0,s.useEffect)((()=>{u&&e.onEventsReady(i)}),[i,u,e]),t},m=React.forwardRef(((e,t)=>React.createElement(r.StecDiv,{ref:t},e.momentDate&&React.createElement(c,e))));m.displayName="AgendaSliderContent";const i=m},37585:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var n=a(45088);const l=function(e){if(!e.activeMoment)return"";const t=e.activeMoment.format("YYYY-MM-DD"),a=e.eventsA[t]||e.eventsB[t];return React.createElement(n.default,{events:a||[]})}},49437:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var n=a(21067),l=a(8403),s=a(34451),o=a(52802);const r=()=>{const{value:e}=(0,n.useAgendaSliderKey)(),t=(0,n.useSettingsAtt)("layouts__agenda_list"),a=(0,n.useSettingsAtt)("layouts__agenda_slider"),{safeValue:r}=(0,n.useCalendarMoment)(),c=r.date(),m=r.month(),i=r.year();return React.createElement(l.StecDiv,{className:"stec-layout-agenda"},a&&React.createElement(o.default,{key:`agenda-slider-${e}`}),t&&React.createElement(s.default,{key:`agenda-list-${c}-${m}-${i}`,day:c,month:m,year:i}))}},52779:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var n=a(58168),l=a(8403);const s=e=>{const t=["stec-button"];return Array.isArray(e.className)?t.push(...e.className):e.className&&"string"==typeof e.className&&t.push(e.className),e.disabled&&t.push("stec-button-disabled"),e.href?React.createElement("a",(0,n.default)({},e.extra,{style:e.style,target:e.target?e.target:"_SELF",href:e.href,className:t.join(" "),onClick:e.onClick}),Array.isArray(e.label)?e.label.map(((e,t)=>React.createElement(l.StecSpan,{key:t},e))):e.label):React.createElement(l.StecDiv,(0,n.default)({},e.extra,{style:e.style,className:t.join(" "),onClick:e.onClick}),Array.isArray(e.label)?e.label.map(((e,t)=>React.createElement(l.StecSpan,{key:t},e))):e.label)}}}]);