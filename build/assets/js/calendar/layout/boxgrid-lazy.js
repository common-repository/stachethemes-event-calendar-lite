"use strict";(globalThis.webpackChunkstec=globalThis.webpackChunkstec||[]).push([[2916],{80485:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var n=a(5986),r=a(21067),c=a(6405),l=a(8403),s=a(26878);const o=e=>{const t=(0,r.useSettingsAtt)("calendar__links_target");switch((0,r.useSettingsAtt)("calendar__open_events_in")){case"external":{let a="";return e.event.meta?.external_link?.url?a=e.event.meta.external_link.url:(0,c.getEventPermalink)(e.event),React.createElement("a",{className:e.classNameArray.join(" "),href:a,target:t},e.children)}case"single":{const a=(0,c.getEventPermalink)(e.event);return React.createElement("a",{className:e.classNameArray.join(" "),href:a,target:t},e.children)}default:return React.createElement(l.StecDiv,{className:e.classNameArray.join(" ")},e.children)}},i=({event:e,onActive:t})=>{const a=(0,r.useSettingsAtt)("calendar__use_user_timezone"),i=(0,r.useSettingsAtt)("calendar__open_events_in"),u=(0,c.getEventSortedImages)(e),d="EventCancelled"===e.meta.event_status?React.createElement("del",null,e.title):e.title,m=(0,s.useRef)(null),{year:f,date:h,monthLabel:y,dayLabel:g}=(()=>{const t=moment.tz(e.meta.start_date,e.meta.timezone);a&&t.local();const n=t.year(),r=t.date(),l=t.month();return{year:n,date:r,monthLabel:(0,c.getMonthLabel)(l,"short"),dayLabel:(0,c.getDayLabels)("long")[t.day()]}})();return(0,s.useEffect)((()=>{m.current&&window.stecOnBoxGridEventRender&&window.stecOnBoxGridEventRender({event:e,container:m.current})}),[e]),React.createElement(o,{classNameArray:["stec-boxgrid-event"],event:e},React.createElement(l.StecDiv,{className:"stec-boxgrid-event-background-image",style:u.length>0?{backgroundColor:e.color,backgroundImage:`url(${u[0].sizes.full})`}:{backgroundColor:e.color}}),React.createElement(l.StecDiv,{ref:m,className:"stec-boxgrid-event-container",onClick:e=>{e.stopPropagation(),["single","external"].includes(i)||t()}},React.createElement(l.StecDiv,{className:"stec-layout-boxgrid-event-top"},React.createElement(l.StecDiv,{className:"stec-layout-boxgrid-event-icon"},e.meta.thumbnail.icon?React.createElement("i",{className:e.meta.thumbnail.icon}):""),React.createElement(l.StecDiv,{className:"stec-layout-boxgrid-event-date"},React.createElement(l.StecSpan,{className:"stec-layout-boxgrid-event-date-day"},h),React.createElement(l.StecSpan,{className:"stec-layout-boxgrid-event-date-month-and-year"},React.createElement(l.StecSpan,{className:"stec-layout-boxgrid-event-date-year"},f),React.createElement("br",null),React.createElement(l.StecSpan,{className:"stec-layout-boxgrid-event-date-month"},y)),React.createElement("br",null),React.createElement(l.StecSpan,{className:"stec-layout-boxgrid-event-date-daylabel"},g)),React.createElement(l.StecDiv,{className:"stec-layout-boxgrid-event-container-aside-buttons"})),React.createElement(l.StecDiv,{className:"stec-layout-boxgrid-event-content"},React.createElement(n.default,{event:e}),React.createElement(l.StecDiv,{className:"stec-layout-boxgrid-event-title"},d),e.short_description&&React.createElement(l.StecDiv,{className:"stec-layout-boxgrid-event-description",dangerouslySetInnerHTML:{__html:e.short_description}}))))}},15568:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var n=a(82888),r=a(80485);const c=function({events:e,columnsCount:t,gridGutter:a,onEventActive:c}){return React.createElement(n.default,{columnsCount:t,gutter:a},e.map((e=>{const t=`${e.id}-${e.meta.start_date}`;return React.createElement(r.default,{key:t,event:e,onActive:()=>{const e=window.scrollY||document.documentElement.scrollTop;c(t,e)}})})))}},35043:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var n=a(52779),r=a(81604),c=a(21067),l=a(13250),s=a(6405),o=a(8403),i=a(73772),u=a(26878),d=a(15568);const __=i.__,_x=i._x,m=React.forwardRef((({gutter:e},t)=>{const a=(0,c.useSettingsAtt)("misc__min_allowed_year"),r=(0,c.useSettingsAtt)("misc__max_allowed_year"),l=(0,c.useShouldReverseOrder)(),{safeValue:o,setValue:u}=(0,c.useCalendarMoment)(),d=(0,c.useSettingsAtt)("layouts__boxgrid_next_button");if(!(0,c.useSettingsAtt)("layouts__boxgrid_more_button")||!d)return null;const m=moment(o).startOf("month");l?(m.subtract(1,"month"),m.year()<a&&m.year(r)):(m.add(1,"month"),m.year()>r&&m.year(a));const f=(0,s.getMonthLabel)(m.month()),h=m.year(),y=[React.createElement("i",{key:"icon",className:"fa-solid fa-calendar-alt"}),(0,i.sprintf)(_x("Go to %s, %s","month, year","stachethemes_event_calendar_lite"),f,h)];return React.createElement(n.default,{onClick:()=>{t.current&&t.current.scrollIntoView(),u(m)},label:y,style:{marginTop:Math.max(5,e),width:"100%"}})}));m.displayName="NextMonthButton";const f=()=>{const e=(0,u.useRef)(!1),t=(0,u.useRef)(!1),{safeValue:a}=(0,c.useCalendarMoment)(),f=(0,c.useCalendarScreenTypeValue)(),[h,y]=(0,u.useState)(!1),[g,v]=(0,u.useState)(0),p=(0,c.useSettingsAtt)("layouts__boxgrid_limit"),E=(0,c.useSettingsAtt)("layouts__boxgrid_gutter"),b=g*p+p,x=`${E}px`,_=(0,c.useSettingsAtt)("layouts__boxgrid_columns"),R=a.format("YMD"),S=R,{events:C,ready:w}=(0,c.useLayoutEventsCache)(S);let N;const k=C.length>0,A=!(!(0,c.useSettingsAtt)("layouts__boxgrid_more_button")||!k)&&C.slice(b,b+1).length>0;switch(f){case"mobile":N=1;break;case"tablet":N=2;break;default:N=_}let D=!1;if(w&&h){const e=C.filter((e=>h===`${e.id}-${e.meta.start_date}`));e[0]?D=e[0]:(y(!1),D=!1)}if((0,u.useLayoutEffect)((()=>{v(0)}),[R]),(0,u.useEffect)((()=>{!1===h&&!1!==e.current&&(window.scrollTo(0,e.current),e.current=!1)}),[h]),!1===w){const e=[];for(let t=0;t<N;t++)e.push(React.createElement(l.default,{key:t}));return React.createElement(o.StecDiv,{className:"stec-layout-boxgrid",ref:t},React.createElement(o.StecDiv,{style:{width:"100%",display:"grid",gap:x,gridTemplateColumns:`repeat(${N}, 1fr)`}},e))}if(!1===k){const e=a.month(),n=a.year(),r=(0,s.getMonthLabel)(e);return React.createElement(o.StecDiv,{className:"stec-layout-boxgrid",ref:t},React.createElement(o.StecDiv,{className:"stec-no-events-found-text"},(0,i.sprintf)(__("No events found in %s","stachethemes_event_calendar_lite"),[r,n].join(" "))),React.createElement(m,{gutter:E,ref:t}))}if(!1!==h)return React.createElement(o.StecDiv,{className:"stec-layout-boxgrid",ref:t},React.createElement(r.default,{key:h,event:D,forceOpenIn:"modal",noPreviewWhenModal:!0,active:!0,onActiveToggle:()=>{y(!1)}}));const T=C.slice(0,b);return React.createElement(o.StecDiv,{className:"stec-layout-boxgrid",ref:t},React.createElement(d.default,{events:T,columnsCount:N,gridGutter:x,onEventActive:(t,a)=>{e.current=a,y(t)}}),A&&React.createElement(n.default,{onClick:()=>{v(g+1)},label:__("Show more","stachethemes_event_calendar_lite"),style:{marginTop:Math.max(5,E),width:"100%"}}),!A&&React.createElement(m,{gutter:E,ref:t}))}},13250:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var n=a(8403),r=a(43516);const c=function(){return React.createElement(n.StecDiv,{className:"stec-skeleton",style:{position:"relative",background:"var(--stec-ec-bg)",borderRadius:0,width:"100%"}},React.createElement(r.default,{speed:2,width:"100%",height:350,backgroundColor:"#E3E3E3",foregroundColor:"#ECEBEB",animate:!0},React.createElement("rect",{x:"10px",y:"10px",rx:"3",ry:"3",width:"60px",height:"14"}),React.createElement("rect",{x:"10px",y:"30px",rx:"3",ry:"3",width:"200px",height:"14"}),React.createElement("rect",{x:"115px",y:"100%",rx:"3",ry:"3",width:"100px",height:"14",transform:"translate(0, -112)"}),React.createElement("rect",{x:"10px",y:"100%",rx:"3",ry:"3",width:"100px",height:"14",transform:"translate(0, -112)"}),React.createElement("rect",{x:"10px",y:"100%",rx:"3",ry:"3",width:"50%",height:"28",transform:"translate(0, -85)"}),React.createElement("rect",{x:"10px",y:"100%",rx:"3",ry:"3",width:"70%",height:"14",transform:"translate(0, -44)"}),React.createElement("rect",{x:"10px",y:"100%",rx:"3",ry:"3",width:"90%",height:"14",transform:"translate(0, -24)"})))}},52779:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var n=a(58168),r=a(8403);const c=e=>{const t=["stec-button"];return Array.isArray(e.className)?t.push(...e.className):e.className&&"string"==typeof e.className&&t.push(e.className),e.disabled&&t.push("stec-button-disabled"),e.href?React.createElement("a",(0,n.default)({},e.extra,{style:e.style,target:e.target?e.target:"_SELF",href:e.href,className:t.join(" "),onClick:e.onClick}),Array.isArray(e.label)?e.label.map(((e,t)=>React.createElement(r.StecSpan,{key:t},e))):e.label):React.createElement(r.StecDiv,(0,n.default)({},e.extra,{style:e.style,className:t.join(" "),onClick:e.onClick}),Array.isArray(e.label)?e.label.map(((e,t)=>React.createElement(r.StecSpan,{key:t},e))):e.label)}},16416:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n=a(26878),r=a.n(n);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c.apply(this,arguments)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}var s=function(e){var t,a;function n(){return e.apply(this,arguments)||this}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,l(t,a);var s=n.prototype;return s.componentDidUpdate=function(){this.state.hasDistributed||this.props.sequential||this.distributeChildren()},n.getDerivedStateFromProps=function(e,t){var a=e.children,r=e.columnsCount;return t&&a===t.children?null:c({},n.getEqualCountColumns(a,r),{children:a,hasDistributed:!1})},s.distributeChildren=function(){var e=this,t=this.props,a=t.children,n=t.columnsCount,l=Array(n).fill(0);if(this.state.childRefs.every((function(e){return e.current.getBoundingClientRect().height}))){var s=Array.from({length:n},(function(){return[]})),o=0;r().Children.forEach(a,(function(t){if(t&&r().isValidElement(t)){var a=e.state.childRefs[o].current.getBoundingClientRect().height,n=l.indexOf(Math.min.apply(Math,l));l[n]+=a,s[n].push(t),o++}})),this.setState((function(e){return c({},e,{columns:s,hasDistributed:!0})}))}},n.getEqualCountColumns=function(e,t){var a=Array.from({length:t},(function(){return[]})),n=0,c=[];return r().Children.forEach(e,(function(e){if(e&&r().isValidElement(e)){var l=r().createRef();c.push(l),a[n%t].push(r().createElement("div",{style:{display:"flex",justifyContent:"stretch"},key:n,ref:l},e)),n++}})),{columns:a,childRefs:c}},s.renderColumns=function(){var e=this.props,t=e.gutter,a=e.itemTag,n=e.itemStyle;return this.state.columns.map((function(e,l){return r().createElement(a,{key:l,style:c({display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:t},n)},e.map((function(e){return e})))}))},s.render=function(){var e=this.props,t=e.gutter,a=e.className,n=e.style,l=e.containerTag;return r().createElement(l,{style:c({display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:t},n),className:a},this.renderColumns())},n}(r().Component);s.propTypes={},s.defaultProps={columnsCount:3,gutter:"0",className:null,style:{},containerTag:"div",itemTag:"div",itemStyle:{},sequential:!1};const o=s},20318:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n=a(26878),r=a.n(n),c="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,l=function(){var e=function(){var e=(0,n.useState)(!1),t=e[0],a=e[1];return c((function(){a(!0)}),[]),t}(),t=(0,n.useState)("undefined"!=typeof window?window.innerWidth:0),a=t[0],r=t[1],l=(0,n.useCallback)((function(){e&&r(window.innerWidth)}),[e]);return c((function(){if(e)return window.addEventListener("resize",l),l(),function(){return window.removeEventListener("resize",l)}}),[e,l]),a},s=function(e){var t=e.columnsCountBreakPoints,a=void 0===t?{350:1,750:2,900:3}:t,c=e.children,s=e.className,o=void 0===s?null:s,i=e.style,u=void 0===i?null:i,d=l(),m=(0,n.useMemo)((function(){var e=Object.keys(a).sort((function(e,t){return e-t})),t=e.length>0?a[e[0]]:1;return e.forEach((function(e){e<d&&(t=a[e])})),t}),[d,a]);return r().createElement("div",{className:o,style:u},r().Children.map(c,(function(e,t){return r().cloneElement(e,{key:t,columnsCount:m})})))};s.propTypes={};const o=s},82888:(e,t,a)=>{a.r(t),a.d(t,{ResponsiveMasonry:()=>r.default,default:()=>c});var n=a(16416),r=a(20318);const c=n.default}}]);